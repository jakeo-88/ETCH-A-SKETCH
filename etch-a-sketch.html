<!DOCTYPE html>
<html>
<head>
  <title>ETCH-A-SKETCH</title>
  <meta charset="UTF-8"/>
  <style>
    .container {
    font-size: 40px;
    width: 100%;
    display: grid;
    column-gap: 1px;
    row-gap: 1px;
    place-content: center;  
    }
  </style>
</head>
<body>
  <script>
    var body = document.getElementsByTagName('BODY')[0];
    var container = document.createElement('DIV');
    var button = document.createElement('BUTTON');
    container.classList.add('container');
    container.setAttribute('id', 'theGrid'); 
    button.textContent = 'Reset';
    body.appendChild(button);
    body.appendChild(container);

    var defaultSquares = 16;
    var gridSideLength = Math.sqrt(defaultSquares);
    var gridPixelSize = (20*15)/gridSideLength;

    container.style.gridTemplateColumns= 'repeat(' + gridSideLength + ', ' +gridPixelSize+ 'px)';
    container.style.gridTemplateRows= 'repeat(' + gridSideLength + ', ' +gridPixelSize+ 'px)';

    button.addEventListener('click', (e) => {
      revertColor();
      //sizeGrid(); 
    });

    function sizeGrid() {
      newGridSize = parseInt(prompt('How many squares per side to make the new grid?'));
      gridSideLength = Math.sqrt(newGridSize);
      gridPixelSize = (20*15)/gridSideLength;
      container.style.gridTemplateColumns= 'repeat(' + gridSideLength + ', ' +gridPixelSize+ 'px)';
      container.style.gridTemplateRows= 'repeat(' + gridSideLength + ', ' +gridPixelSize+ 'px)';
    }

    function revertColor() {
      var j; 
      for(j = 0; j < gridColor.length; j++) {
        gridColor[j].style.backgroundColor = 'blue';
      }
    }

    var newGridSize;
    var gridSquares = newGridSize || defaultSquares;
    var grid = document.createDocumentFragment();
    for(var i = 0; i < gridSquares; i++) {
      var newDiv = document.createElement('div');
      newDiv.id = 'd' + i;
      newDiv.className = 'square';
      newDiv.style.backgroundColor = 'blue';
      grid.appendChild(newDiv);
    }
    container.appendChild(grid);

    var gridColor = document.querySelectorAll('div.square');
    gridColor.forEach((newDiv) => {
      newDiv.addEventListener('mouseover', (e) => {
        newDiv.style.backgroundColor = 'red';
      });
    });
  </script>
</body>
</html>